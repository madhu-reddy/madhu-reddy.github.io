---
categories: ['Networking', 'DNS']
layout: post
title: Why do we need an SRV DNS record?
date: 2021-04-05 23:48:13.000000000 -04:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
- DNS
tags: []
meta:
  _aioseo_title: ''
  _aioseo_description: ''
  _aioseo_keywords: ''
  _aioseo_og_title: ''
  _aioseo_og_description: ''
  _aioseo_og_article_section: ''
  _aioseo_og_article_tags: ''
  _aioseo_twitter_title: ''
  _aioseo_twitter_description: ''
  _edit_last: '1'
  _kad_blog_head: default
  _kad_post_summery: default
  _kad_post_sidebar: 'yes'
  _kad_sidebar_choice: sidebar-primary
  _kad_blog_  _yoast_wpseo_estimated-reading-time-minutes: '2'
  ocean_gallery_link_images: 'off'
  ocean_sidebar: '0'
  ocean_second_sidebar: '0'
  ocean_disable_margins: enable
  ocean_display_top_bar: default
  ocean_display_header: default
  ocean_center_header_left_menu: '0'
  ocean_custom_header_template: '0'
  ocean_header_custom_menu: '0'
  ocean_menu_typo_font_family: '0'
  ocean_disable_title: default
  ocean_disable_heading: default
  ocean_disable_breadcrumbs: default
  ocean_display_footer_widgets: default
  ocean_display_footer_bottom: default
  ocean_custom_footer_template: '0'
  ocean_link_format_target: self
  ocean_quote_format_link: post
  _wtpsw_views: '29'
  rank_math_primary_category: '7'
  rank_math_news_sitemap_robots: index
  rank_math_robots: a:1:{i:0;s:5:"index";}
  rank_math_og_content_image: a:2:{s:5:"check";s:32:"9634ea3d8b71814f90eac8383ebadab9";s:6:"images";a:1:{i:0;i:114;}}
  rank_math_internal_links_processed: '1'
permalink: "/2021/04/05/why-do-we-need-a-srv-dns-record/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph {"fontSize":"medium"} --><html><body></p>
<p class="has-medium-font-size">For explanation purposes, let's consider a practical example involving an LDAP server and a client.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">Usually, when configuring an LDAP client, we specify the direct address—either the LDAP server's IP address or its domain name.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-black-color">LDAP logins typically function smoothly without encountering any significant issues most of the time.</mark></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><strong><span class="has-inline-color has-vivid-red-color">But Wait…., what if your LDAP server is down?</span></strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-black-color">In Linux, LDAP logins continue to work seamlessly as long as the SSSD or NSCD cache remains unexpired. When these caches are valid, no requests are sent to the LDAP server for authenticating the LDAP client.</mark></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-vivid-red-color">However, encountering a situation where both<strong> - the LDAP server is unavailable, and the SSSD/NSCD cache is invalid simultaneously</strong> would result in a considerable problem</mark>, this is where the significance of "<strong>SRV</strong>" records becomes crucial.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":114,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/04/image-3-1024x178.png" alt="" class="wp-image-114"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">In the aforementioned illustration, what we're explaining is that, in order for the LDAP client to establish a connection with the LDAP server, the LDAP client needs to perform the following steps:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:kadence/iconlist {"items":[{"icon":"fe_checkCircle","link":"","target":"_self","size":21,"text":"\u003cstrong\u003eConnect to the DNS server\u003c/strong\u003e","width":2,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"},{"icon":"fe_checkCircle","link":"","target":"_self","size":20,"text":"\u003cstrong\u003eRetrieve the SRV record for the domain \u0022madhu.choosebestldapserver.com\u0022\u003c/strong\u003e","width":2,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"},{"icon":"fe_checkCircle","link":"","target":"_self","size":21,"text":"\u003cstrong\u003eWhatever the result (SRV record) is, that will be the LDAP server to which the LDAP client must connect and authenticate itself.\u003c/strong\u003e","width":1.5,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"}],"listStyles":[{"size":[18,"",""],"sizeType":"px","lineHeight":["","",""],"lineType":"px","letterSpacing":"","family":"","google":false,"style":"","weight":"","variant":"","subset":"","loadGoogle":true,"color":"","textTransform":""}],"listCount":3,"uniqueID":"_bf2920-25"} --></p>
<div class="wp-block-kadence-iconlist kt-svg-icon-list-items kt-svg-icon-list-items_bf2920-25 kt-svg-icon-list-columns-1 alignnone">
<ul class="kt-svg-icon-list">
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-0">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="21" width="21" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text"><strong>Connect to the DNS server</strong></span>
</li>
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-1">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="20" width="20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text"><strong>Retrieve the SRV record for the domain "madhu.choosebestldapserver.com"</strong></span>
</li>
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-2">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="21" width="21" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text"><strong>Whatever the result (SRV record) is, that will be the LDAP server to which the LDAP client must connect and authenticate itself.</strong></span>
</li>
</ul>
</div>
<p><!-- /wp:kadence/iconlist --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
