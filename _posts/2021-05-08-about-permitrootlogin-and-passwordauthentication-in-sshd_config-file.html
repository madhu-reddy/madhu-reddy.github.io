---
categories: ['Linux', 'SSH']
layout: post
title: About PermitRootLogin and PasswordAuthentication in the sshd_config file?
date: 2021-05-08 10:25:43.000000000 -04:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
- Linux
tags: []
meta:
  _edit_last: '1'
  _yoast_wpseo_estimated-reading-time-minutes: '1'
  _yoast_wpseo_content_score: '30'
  _yoast_wpseo_primary_category: '2'
  _elementor_template_type: wp-post
  _elementor_version: 3.1.4
  _wp_page_template: default
  _elementor_data: '[{"id":"28f2fb8e","elType":"section","settings":[],"elements":[{"id":"1c85ebfc","elType":"column","settings":{"_column_size":100},"elements":[{"id":"4e54f81b","elType":"widget","settings":{"editor":"<p><!--
    wp:heading {\"level\":1} --><\/p>\n<h1><span class=\"has-inline-color has-luminous-vivid-orange-color\"><u>PermitRootLogin:<\/u><\/span><\/h1>\n<p><\/p>\n<p><!--
    \/wp:heading --><\/p>\n<p><!-- wp:paragraph {\"fontSize\":\"medium\"} --><\/p>\n<p
    class=\"has-medium-font-size\">PermitRootLogin options only tells us about whether
    we can login as root user directly via ssh to the server.<\/p>\n<h3>The arguments
    must be (<code><strong>no, yes, forced-commands-only and without-password<\/strong>)
    <\/code><\/h3>\n<h3><span style=\"text-decoration: underline;\"><strong>NOTE:<br><\/strong><\/span><span
    class=\"has-inline-color has-very-dark-gray-color\"><strong>without-password<\/strong>
    is deprecated and <strong>prohibit-password<\/strong> is used in newer version
    of sshd OpenSSH 7.0 and above<\/span>.<\/h3>\n<p><!-- \/wp:paragraph --><\/p>\n<p><!--
    wp:paragraph {\"align\":\"left\",\"fontSize\":\"medium\"} --><\/p>\n<h3>\n<ol>\n<li><span
    style=\"font-size: 18px; text-decoration-line: underline;\"><span class=\"has-inline-color
    has-vivid-green-cyan-color\"><strong>PermitRootLogin without-password (or <strong>PermitRootLogin
    prohibit-password<\/strong><\/strong>)<\/span><\/span><strong style=\"font-size:
    18px;\"><span class=\"has-inline-color has-vivid-green-cyan-color\">:<\/span>
    <\/strong><span style=\"font-size: 18px;\">This allows root login only with public
    key authentication. This is often used with shell scripts and automated tasks.<br><br><\/span><\/li>\n<li><strong
    style=\"font-size: 18px;\"><span class=\"has-inline-color has-vivid-green-cyan-color\"><span
    style=\"text-decoration-line: underline;\">PermitRootLogin no:<\/span> <\/span><\/strong><span
    style=\"font-size: 18px;\">This will not allow direct root logins to the server
    (but we can login to root using su -, after first login as a normal user).<br><br><\/span><\/li>\n<li><span
    style=\"text-decoration-line: underline;\"><strong>PermitRootLogin yes<\/strong><\/span>:<span
    style=\"font-size: 18px;\"> This will allow direct root logins.<br><br><\/span><\/li>\n<li><span
    style=\"text-decoration-line: underline;\"><strong>PermitRootLogin<\/strong> <strong>forced-commands-only<\/strong><\/span>:
    <span style=\"font-size: 18px;\">With this, public key authentication will be
    allowed, but only if the command option has been specified (which may be useful
    for taking remote backups even if all the possible way for root login are not
    allowed).<\/span><\/li>\n<\/ol>\n<\/h3>\n<p><!-- \/wp:paragraph --><\/p>\n<p><!--
    wp:paragraph --><\/p>\n<p><!-- \/wp:paragraph --><\/p>\n<p><!-- wp:paragraph --><\/p>\n<p><!--
    \/wp:paragraph --><\/p>\n<p><!-- wp:paragraph --><\/p>\n<p><!-- \/wp:paragraph
    --><\/p>\n<p><!-- wp:kadence\/advancedheading {\"level\":1,\"uniqueID\":\"_c7707b-46\"}
    --><\/p>\n<h1 class=\"kt-adv-heading_c7707b-46 wp-block-kadence-advancedheading\"
    data-kb-block=\"kb-adv-heading_c7707b-46\"><span class=\"has-inline-color has-luminous-vivid-orange-color\">&nbsp;<\/span><\/h1>\n<h1
    class=\"kt-adv-heading_c7707b-46 wp-block-kadence-advancedheading\" data-kb-block=\"kb-adv-heading_c7707b-46\"><span
    style=\"color: #ff6900; font-size: 23px;\"><u>PasswordAuthentication:<\/u><\/span><\/h1>\n<div>&nbsp;<\/div>\n<p><!--
    \/wp:kadence\/advancedheading --><\/p>\n<p><!-- wp:paragraph {\"align\":\"left\",\"fontSize\":\"medium\"}
    --><\/p>\n<p class=\"has-text-align-left has-medium-font-size\">\n<\/p><p><!--
    \/wp:paragraph --><\/p>","align":"left","text_color":"#020101","typography_typography":"custom"},"elements":[],"widgetType":"text-editor"}],"isInner":false}],"isInner":false}]'
  _elementor_controls_usage: a:3:{s:11:"text-editor";a:3:{s:5:"count";i:1;s:15:"control_percent";i:2;s:8:"controls";a:2:{s:7:"content";a:1:{s:14:"section_editor";a:1:{s:6:"editor";i:1;}}s:5:"style";a:1:{s:13:"section_style";a:3:{s:5:"align";i:1;s:10:"text_color";i:1;s:21:"typography_typography";i:1;}}}}s:6:"column";a:3:{s:5:"count";i:1;s:15:"control_percent";i:0;s:8:"controls";a:0:{}}s:7:"section";a:3:{s:5:"count";i:1;s:15:"control_percent";i:0;s:8:"controls";a:0:{}}}
  _thumbnail_id: '650'
  ocean_gallery_link_images: 'off'
  ocean_sidebar: '0'
  ocean_second_sidebar: '0'
  ocean_disable_margins: enable
  ocean_display_top_bar: default
  ocean_display_header: default
  ocean_center_header_left_menu: '0'
  ocean_custom_header_template: '0'
  ocean_header_custom_menu: '0'
  ocean_menu_typo_font_family: '0'
  ocean_disable_title: default
  ocean_disable_heading: default
  ocean_disable_breadcrumbs: default
  ocean_display_footer_widgets: default
  ocean_display_footer_bottom: default
  ocean_custom_footer_template: '0'
  ocean_link_format_target: self
  ocean_quote_format_link: post
  _wtpsw_views: '738'
  _aioseo_title: ''
  _aioseo_description: ''
  _aioseo_keywords: ''
  _aioseo_og_title: ''
  _aioseo_og_description: ''
  _aioseo_og_article_section: ''
  _aioseo_og_article_tags: ''
  _aioseo_twitter_title: ''
  _aioseo_twitter_description: ''
  rank_math_primary_category: '2'
  rank_math_news_sitemap_robots: index
  rank_math_robots: a:1:{i:0;s:5:"index";}
  rank_math_internal_links_processed: '1'
permalink: "/2021/05/08/about-permitrootlogin-and-passwordauthentication-in-sshd_config-file/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<html><body></p>
<h1><span style="color: #ff6600;"><u>PermitRootLogin:</u></span></h1>
<p><span style="font-size: 20px;">The <strong>PermitRootLogin</strong> options solely determine whether direct login as the root user via SSH to the server is permissible.</span></p>
<p><span style="font-size: 20px;">The valid arguments for this directive are: <strong>no</strong>, <strong>yes</strong>, <strong>forced-commands-only</strong>, and <strong>without-password</strong>.</span></p>
<p><strong><span style="text-decoration: underline;"><span style="font-size: 16px;"><span style="font-size: 20px;">NOTE</span>:</span></span><br></strong><span style="font-size: 20px;">The <strong>without-password</strong> option has been deprecated and, in newer versions of OpenSSH 7.0 and above, <strong>prohibit-password</strong> is used instead.</span></p>
<ol style="list-style-type: upper-alpha;">
<li><span style="font-size: 20px;"><span style="color: #ff9900;"><span style="text-decoration: underline;"><strong>PermitRootLogin without-password (or <strong>PermitRootLogin prohibit-password</strong></strong>)</span><strong><span style="text-decoration: underline;">:</span> <br></strong></span>This setting permits root login exclusively through public key authentication. It's commonly employed for shell scripts and automated tasks.<br><br></span></li>
<li><span style="font-size: 20px;"><span style="color: #ff9900;"><strong><span style="text-decoration: underline;">PermitRootLogin no:</span> <br></strong></span> Prohibits direct root logins to the server (although subsequent root login via "<strong>su -</strong>" is possible after initially logging in as a regular user).<br><br></span></li>
<li><span style="font-size: 20px;"><span style="text-decoration: underline; color: #ff9900;"><strong>PermitRootLogin yes</strong>:</span><span style="color: #ff9900;"> <br></span>Enables direct root logins.<br><br></span></li>
<li><span style="font-size: 20px;"><span style="text-decoration: underline; color: #ff9900;"><strong>PermitRootLogin</strong><strong>forced-commands-only</strong>:</span><span style="color: #ff9900;"> <br></span>Allows public key authentication, but only if the command option has been specified. This might be beneficial for remote backups, even if all possible methods for root login aren't permitted.</span></li>
</ol>
<p><!-- wp:group --></p>
<div class="wp-block-group">
<!-- wp:paragraph --></p>
<p>                                                       <br>                  </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:spacer {"height":"79px"} --></p>
<div style="height:79px" aria-hidden="true" class="wp-block-spacer"></div>
<p><!-- /wp:spacer -->
</div>
<p><!-- /wp:group --></p>
<p><!-- wp:tadv/classic-paragraph --></p>
<h1><span style="text-decoration: underline;"><span style="color: #ff6600; text-decoration: underline;">PasswordAuthentication:</span></span></h1>
<p><!-- /wp:tadv/classic-paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">The<strong> PasswordAuthentication</strong> option informs us whether users can access the server using their password or not.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:tadv/classic-paragraph --></p>
<p><span style="font-size: 20px;">The acceptable arguments are limited to "<strong>no</strong>" and "<strong>yes</strong>," with the default setting being "<strong>yes</strong>."</span></p>
<p><!-- /wp:tadv/classic-paragraph --></p>
<p><span style="font-size: 20px;"><span style="color: #ff9900;"><span style="color: #000000;">A.</span></span><strong><span style="color: #ff9900;"> PasswordAuthentication yes: </span></strong>This enables password authentication (this option should correspond with <strong>UsePAM</strong> set to "<strong>yes</strong>").<br><br><span style="background-color: #ffffff;"><span style="color: #000000;">B<strong>.</strong></span> <strong><span style="color: #ff9900;">PasswordAuthentication no: </span></strong></span>This disables password authentication, permitting login solely with the public key. This setting should be complemented by <strong>ChallengeResponseAuthentication</strong> set to "<strong>no</strong>" and <strong>PubkeyAuthentication</strong> set to "<strong>yes</strong>."</span></p>
<p> </p>
<p><!-- wp:tadv/classic-paragraph /--></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
