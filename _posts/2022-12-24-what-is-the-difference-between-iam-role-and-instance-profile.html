---
layout: post
title: What is the difference between IAM role and instance profile?
date: 2022-12-24 04:17:04.000000000 -05:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- AWS
tags: []
meta:
  _edit_last: '1'
  _aioseo_title: ''
  _aioseo_description: ''
  _aioseo_keywords: ''
  _aioseo_og_title: ''
  _aioseo_og_description: ''
  _aioseo_og_article_section: ''
  _aioseo_og_article_tags: ''
  _aioseo_twitter_title: ''
  _aioseo_twitter_description: ''
  ocean_gallery_link_images: 'off'
  ocean_sidebar: '0'
  ocean_second_sidebar: '0'
  ocean_disable_margins: enable
  ocean_display_top_bar: default
  ocean_display_header: default
  ocean_center_header_left_menu: '0'
  ocean_custom_header_template: '0'
  ocean_header_custom_menu: '0'
  ocean_menu_typo_font_family: '0'
  ocean_disable_title: default
  ocean_disable_heading: default
  ocean_disable_breadcrumbs: default
  ocean_display_footer_widgets: default
  ocean_display_footer_bottom: default
  ocean_custom_footer_template: '0'
  ocean_link_format_target: self
  ocean_quote_format_link: post
  _yoast_wpseo_estimated-reading-time-minutes: '3'
  _yoast_wpseo_primary_category: '27'
  _yoast_wpseo_content_score: '60'
  _thumbnail_id: '1761'
  _wtpsw_views: '17'
  _wp_old_slug: whats-the-difference-between-an-aws-iam-role-and-an-instance-profile
  _yoast_wpseo_focuskw: difference IAM role instance profile
  _yoast_wpseo_metadesc: "%%title%%"
  _yoast_wpseo_linkdex: '65'
  _yoast_wpseo_wordproof_timestamp: ''
  rank_math_primary_category: '27'
  rank_math_description: "%title%"
  rank_math_focus_keyword: iam,instance profile
  rank_math_news_sitemap_robots: index
  rank_math_robots: a:1:{i:0;s:5:"index";}
  rank_math_seo_score: '63'
  rank_math_internal_links_processed: '1'
  rank_math_og_content_image: a:2:{s:5:"check";s:32:"d684258f9d0274505c643dc131c1879e";s:6:"images";a:4:{i:0;i:1741;i:1;i:1742;i:2;i:1743;i:3;i:1744;}}
permalink: "/2022/12/24/what-is-the-difference-between-iam-role-and-instance-profile/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph {"style":{"typography":{"fontSize":26}}} --><html><body></p>
<p style="font-size:26px"><strong><span style="text-decoration: underline" class="underline"><span style="color:#cf2e2e" class="tadv-color">IAM Roles</span></span></strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><br>An IAM role, akin to an IAM user, is an AWS identity with attached IAM policies that dictate the actions the identity is allowed or disallowed to perform in AWS.<br><br>IAM roles provide a secure method for granting permissions to your EC2 instances. By utilizing an IAM role, an EC2 instance can obtain temporary credentials for accessing AWS services without the need to hardcode access keys within the instance.<br><br>For instance, if an EC2 instance requires access to a specific S3 bucket to upload a file, you can create an IAM role with the necessary IAM policy defined and attached. Subsequently, you can associate this role with the EC2 instance.<br><br>Now I have created an S3 bucket named <code>madhu-testing</code> for demonstration.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"align":"left","id":1741,"width":249,"height":87,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image alignleft size-large is-resized"><img src="{{site.baseurl}}/assets/2022/12/image-5.png" alt="" class="wp-image-1741" width="249" height="87"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><br><br><br><br><br>Now, I will attempt to upload a file to the S3 bucket from the EC2 instance I created earlier and observe the outcome.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":1742,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2022/12/image-6.png" alt="" class="wp-image-1742"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">As evident from the above screenshot, the file upload to the S3 bucket has failed, as expected, since we have not attached any IAM role to the EC2 instance yet.<br><br>Next, I will create an IAM role named <code>"madhu-test-role"</code> and associate the policy <code>"AmazonS3FullAccess"</code> with it. For testing purposes, I've chosen an existing policy that grants full access to S3. However, for a more granular approach, you can create a custom IAM policy providing access only to the specific S3 bucket required by the EC2 instance.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"align":"left","id":1743,"width":352,"height":124,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image alignleft size-large is-resized"><img src="{{site.baseurl}}/assets/2022/12/image-7.png" alt="" class="wp-image-1743" width="352" height="124"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"normal"} --></p>
<p class="has-normal-font-size"><br><br><br><br><br></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">Next, I will attach the IAM role to the EC2 instance.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"align":"left","id":1744,"width":412,"height":156,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image alignleft size-large is-resized"><img src="{{site.baseurl}}/assets/2022/12/image-8.png" alt="" class="wp-image-1744" width="412" height="156"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><br><br><br><br><br><br><br>I will now retest the file upload to S3 from the EC2 instance, and this time, the file upload is successful to the S3 bucket.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"align":"left","id":1745,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image alignleft size-large"><img src="{{site.baseurl}}/assets/2022/12/image-9.png" alt="" class="wp-image-1745"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p><br><br><br></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"style":{"typography":{"fontSize":34}}} --></p>
<p style="font-size:34px"><strong><span style="text-decoration: underline" class="underline"><span style="color:#cf2e2e" class="tadv-color">Instance Profile</span></span></strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">An instance profile serves as a container for an IAM role, allowing you to pass the IAM role to an EC2 instance. Each instance profile can accommodate only one IAM role, though a role has the flexibility to belong to multiple instance profiles.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">When you create an IAM Role for EC2 using the IAM Console, both an EC2 instance profile and an IAM role with matching names are generated.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">In the process of attaching an IAM role to an EC2 instance, the UI console might give the impression that you are selecting an IAM role. However, you are, in fact, choosing an instance profile that shares the same name as your role.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":1752,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2022/12/image-17.png" alt="" class="wp-image-1752"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size"><br></p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
