---
layout: post
title: 'bash: value too great for base (error token is "08/09")?'
date: 2021-11-14 05:50:09.000000000 -05:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Linux
tags: []
meta:
  _edit_last: '1'
  ocean_gallery_link_images: 'off'
  ocean_sidebar: '0'
  ocean_second_sidebar: '0'
  ocean_disable_margins: enable
  ocean_display_top_bar: default
  ocean_display_header: default
  ocean_center_header_left_menu: '0'
  ocean_custom_header_template: '0'
  ocean_header_custom_menu: '0'
  ocean_menu_typo_font_family: '0'
  ocean_disable_title: default
  ocean_disable_heading: default
  ocean_disable_breadcrumbs: default
  ocean_display_footer_widgets: default
  ocean_display_footer_bottom: default
  ocean_custom_footer_template: '0'
  ocean_link_format_target: self
  ocean_quote_format_link: post
  _yoast_wpseo_content_score: '90'
  _yoast_wpseo_estimated-reading-time-minutes: '2'
  _yoast_wpseo_primary_category: '2'
  _thumbnail_id: '978'
  _wtpsw_views: '258'
  _aioseo_title: ''
  _aioseo_description: ''
  _aioseo_keywords: ''
  _aioseo_og_title: ''
  _aioseo_og_description: ''
  _aioseo_og_article_section: ''
  _aioseo_og_article_tags: ''
  _aioseo_twitter_title: ''
  _aioseo_twitter_description: ''
  rank_math_primary_category: '2'
  rank_math_news_sitemap_robots: index
  rank_math_robots: a:1:{i:0;s:5:"index";}
  rank_math_internal_links_processed: '1'
  _yoast_wpseo_wordproof_timestamp: ''
permalink: "/2021/11/14/bash-value-too-great-for-base-error-token-is-08-09/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph {"fontSize":"medium"} --><html><body></p>
<p class="has-medium-font-size">Occasionally, when comparing dates (e.g., 2021-08-09) within a Bash script, unexpected errors may arise, such as '<code>value too great for base (error token is "08")</code>' or '<code>value too great for base (error token is "09")</code>'.<br><br>This occurs because the Bash shell interprets any number preceded by a zero (0) as an octal number, while numbers without a leading zero are treated as decimal values. Octal numbers range from 00 to 07 (equivalent to 0 to 7), and there are no valid octal numbers corresponding to 08 or 09. <br>Consequently, attempting to use these values leads to the error '<code>value too great for base (error token is "08" or "09")</code>'<br><br>Now there are quite a few workarounds for this,<br></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading {"level":1} --></p>
<h1><span style="color:#ff6900" class="tadv-color"><span style="text-decoration: underline" class="underline">1) Using sed "\&lt;" to match the beginning of a word (even number considered as a word):</span></span></h1>
<p><!-- /wp:heading --></p>
<p><!-- wp:code {"fontSize":"medium"} --></p>
<pre class="wp-block-code has-medium-font-size"><code><span style="color:#fcb900" class="tadv-color">#https://www.gnu.org/software/sed/manual/sed.html</span>

#! /bin/bash -e
TDATE=2021-08-08

TDATE1=$(echo $TDATE | sed 's/\&lt;0//g')  
  
MDATE=2021-07-07

MDATE1=$(echo $MDATE | sed 's/\&lt;0//g') 

if [[ $MDATE1 &lt; $TDATE1 ]]; then
   echo "OK"
   exit 0
else
   echo "FAILED"
   exit 1
fi</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">The <code class="">\&lt;0</code> part of the command matches any character that is a word boundary (<code>e.g., a space or the beginning of the string or any non-word character</code>) followed by a zero.<br>So, in the above code, the command is saying "<code>Replace any word boundary followed by a zero with an empty string globally</code>". This means that the command will remove any leading zeros from the string.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"luminous-vivid-amber","fontSize":"medium"} --></p>
<p class="has-luminous-vivid-amber-background-color has-background has-medium-font-size"><strong><span style="text-decoration: underline" class="underline">Example for "\&lt;", which matches the beginning of a word:</span></strong><br>echo "2021-08-08" | sed 's/\&lt;/X/g'     <strong>#<span style="text-decoration: underline" class="underline">output:</span></strong>   X2021-X08-X08<br>echo "2021-08-08" | sed 's/\&lt;0//g'      <strong>#<span style="text-decoration: underline" class="underline">output:</span> </strong>2021-8-8</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading --></p>
<h2>                                                                                                                                                                              </h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:heading {"level":1} --></p>
<h1><span style="color:#ff6900" class="tadv-color"><span style="text-decoration: underline" class="underline">2) Using sed "\b" to match any word boundary:</span></span></h1>
<p><!-- /wp:heading --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>#! /bin/bash -e
TDATE=2021-08-08
<span style="color:#ff6900" class="tadv-color">#Match all zeroes (0's) after any word boundary match and remove those zeroes</span>
TDATE1=$(echo $TDATE | sed 's/\b0//g')   <span style="color:#ff6900" class="tadv-color"># 2021-8-8</span>

MDATE=2021-07-07
<span style="color:#ff6900" class="tadv-color">#Match all zeroes (0's) after any word boundary match and remove those zeroes</span>
MDATE1=$(echo $MDATE | sed 's/\b0//g')   <span style="color:#ff6900" class="tadv-color"># 2021-7-7</span>

if [[ $MDATE1 &lt; $TDATE1 ]]; then
   echo "OK"
   exit 0
else
   echo "FAILED"
   exit 1
fi</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">Generally in a string, the bash shell considers a word boundary for any of the following,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:kadence/iconlist {"items":[{"icon":"fe_checkCircle","link":"","target":"_self","size":20,"text":"The position between a word and a non-word character","width":2,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"},{"icon":"fe_checkCircle","link":"","target":"_self","size":20,"text":"Beginning of the string, if the string begins with a word character.","width":2,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"},{"icon":"fe_checkCircle","link":"","target":"_self","size":20,"text":"End of the string, if the string ends with a word character","width":2,"color":"","background":"","border":"","borderRadius":0,"borderWidth":1,"padding":5,"style":"default"}],"listStyles":[{"size":[18,"",""],"sizeType":"px","lineHeight":["","",""],"lineType":"px","letterSpacing":"","family":"","google":false,"style":"","weight":"","variant":"","subset":"","loadGoogle":true,"color":"","textTransform":""}],"listCount":3,"uniqueID":"_a98212-6f"} --></p>
<div class="wp-block-kadence-iconlist kt-svg-icon-list-items kt-svg-icon-list-items_a98212-6f kt-svg-icon-list-columns-1 alignnone">
<ul class="kt-svg-icon-list">
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-0">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="20" width="20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text">The position between a word and a non-word character</span>
</li>
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-1">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="20" width="20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text">Beginning of the string, if the string begins with a word character.</span>
</li>
<li class="kt-svg-icon-list-style-default kt-svg-icon-list-item-wrap kt-svg-icon-list-item-2">
<div style="display:inline-flex;justify-content:center;align-items:center" class="kt-svg-icon-list-single kt-svg-icon-list-single-fe_checkCircle"><svg style="display:inline-block;vertical-align:middle" viewbox="0 0 24 24" height="20" width="20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
<polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
<p><span class="kt-svg-icon-list-text">End of the string, if the string ends with a word character</span>
</li>
</ul>
</div>
<p><!-- /wp:kadence/iconlist --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"luminous-vivid-amber","fontSize":"medium"} --></p>
<p class="has-luminous-vivid-amber-background-color has-background has-medium-font-size"><strong><span style="text-decoration: underline" class="underline">Example for "\b" word boundary:</span></strong><br>echo "21-677-333" | sed 's/\b/x/g'                   # <strong><span style="text-decoration: underline" class="underline">Output:</span></strong> x21x-x677x-x333x<br>echo "2021-08-08" | sed 's/\b0//g'                   # <strong><span style="text-decoration: underline" class="underline">Output:</span></strong> 2021-8-8</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>                       .</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading {"level":1} --></p>
<h1><span style="color:#ff6900" class="tadv-color"><strong><span style="text-decoration: underline" class="underline">3)By converting dates to epoch time using the "date" command(epoch time also referred to as POSIX time or UNIX time)</span></strong></span></h1>
<p><!-- /wp:heading --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>#! /bin/bash -e
TDATE=2021-08-08
TDATE_EPOCH=$(date -d "$TDATE" +"%s")  #<span style="color:#ff6900" class="tadv-color">1628395200</span>

MDATE=2021-07-07
MDATE_EPOCH=$(date -d  "$MDATE" +"%s") #<span style="color:#ff6900" class="tadv-color">1625630400</span>

if [[ $MDATE_EPOCH &lt; $TDATE_EPOCH ]]; then
   echo "OK"
   exit 0
else
   echo "FAILED"
   exit 1
fi</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
