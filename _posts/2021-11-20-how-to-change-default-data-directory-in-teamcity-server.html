---
layout: post
title: How to change the default data directory in the TeamCity server?
date: 2021-11-20 15:21:07.000000000 -05:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- TeamCity
tags: []
meta:
  _edit_last: '1'
  ocean_gallery_link_images: 'off'
  ocean_sidebar: '0'
  ocean_second_sidebar: '0'
  ocean_disable_margins: enable
  ocean_display_top_bar: default
  ocean_display_header: default
  ocean_center_header_left_menu: '0'
  ocean_custom_header_template: '0'
  ocean_header_custom_menu: '0'
  ocean_menu_typo_font_family: '0'
  ocean_disable_title: default
  ocean_disable_heading: default
  ocean_disable_breadcrumbs: default
  ocean_display_footer_widgets: default
  ocean_display_footer_bottom: default
  ocean_custom_footer_template: '0'
  ocean_link_format_target: self
  ocean_quote_format_link: post
  _yoast_wpseo_estimated-reading-time-minutes: '2'
  _yoast_wpseo_primary_category: '32'
  _aioseo_title: ''
  _aioseo_description: ''
  _aioseo_keywords: ''
  _aioseo_og_title: ''
  _aioseo_og_description: ''
  _aioseo_og_article_section: ''
  _aioseo_og_article_tags: ''
  _aioseo_twitter_title: ''
  _aioseo_twitter_description: ''
  _yoast_wpseo_content_score: '90'
  _thumbnail_id: '1047'
  _wtpsw_views: '82'
  rank_math_primary_category: '32'
  rank_math_news_sitemap_robots: index
  rank_math_robots: a:1:{i:0;s:5:"index";}
  rank_math_og_content_image: a:2:{s:5:"check";s:32:"19ded908b17b593dd9f67c6c101d03f4";s:6:"images";a:1:{i:0;i:1045;}}
  rank_math_internal_links_processed: '1'
  rank_math_seo_score: '66'
  rank_math_focus_keyword: teamcity
  _yoast_wpseo_wordproof_timestamp: ''
permalink: "/2021/11/20/how-to-change-default-data-directory-in-teamcity-server/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:heading {"fontSize":"medium"} --><html><body></p>
<h2 class="has-medium-font-size"><span style="text-decoration: underline" class="underline"><a href="https://stackoverflow.com/questions/32630485/how-to-change-teamcity-data-directory" data-type="URL" data-id="https://stackoverflow.com/questions/32630485/how-to-change-teamcity-data-directory">Changing the default data directory in a TeamCity server, would require the following steps</a></span></h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">1) First Stop the TeamCity server with the following command,<br><span style="color:#ff6900" class="tadv-color">/opt/jetbrains/TeamCity/bin/runAll.sh stop</span></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><img src="{{site.baseurl}}/assets/2021/11/K8uCaxxNTYsUe4OGsKAGJx_fbbZopF6LaYXsdMwJ1J7K_4DFJgYHuHdI0KXS7UzizZi4eaaCCYGAvIrHNV-_hooy82ys-cTuxyd9qLZegAVMP6yIV-Fsz98Loq8Xyvp_Dz1mWg1c" style="width: 900px;"></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">2) Copy all the files and directories with the same permissions,  from the default data directory "<strong>/root/.BuildServer</strong>" to the directory which we want to be the new data directory "<strong>/opt/teamcity-data</strong>".</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><img width="600" height="54" src="{{site.baseurl}}/assets/2021/11/iy6V_92O9_3OmUc4d7WM4w0pSQhD7ZAGbh6liCUupDHF1TqXCnx7AoE2kKPeI7cXe8oOEgoCnKhrktRrKRhbqTCicDl17-uYPWO5QEKcYwkhv4vJOo4R_A9TL0ykWXfF87_LRkyH"></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">3) Edit the file "<strong>teamcity-startup.properties</strong>" &amp; set the "<strong>teamcity.data.path</strong>"  to "<strong>/opt/teamcity-data</strong>".</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><img src="{{site.baseurl}}/assets/2021/11/5pBR7MiK0SMtV5BSJEDEXY-nRGeNkZcTXNoNgdZ1PRI3j2LKCpy-OU97q8Fx8uF0Hc1A4XB8J_Y_uPHUQFW8ZHITaZUCGdyd8IOoB9X-rMxRWIASxow3bHUR4jK_6yhoz2DZd3ng" style="width: 900px;"></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"fontSize":"medium"} --></p>
<p class="has-medium-font-size">4) Now Start the TeamCity Server<span style="color:#ff6900" class="tadv-color">(/opt/jetbrains/TeamCity/bin/runAll.sh start</span>)<br><br>5) Now, open the TeamCity GUI and verify that the data directory has been updated to "<strong>/opt/teamcity-data</strong>". Consequently, all data related to "<strong>artifacts</strong>" will be stored within the "<strong>/opt/teamcity-data</strong>" directory going forward.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":1045,"width":849,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large is-resized"><img src="{{site.baseurl}}/assets/2021/11/image-2.png" alt="" class="wp-image-1045" width="849"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
